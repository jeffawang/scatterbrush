<!DOCTYPE HTML>
<style type="text/css">
svg.main {
  border: 1px solid #aaa;
}
.brush .extent {
  stroke: #000;
  fill-opacity: 0.125;
  shape-rendering: crispEdges;
}
</style>
<script type="text/javascript" src="/js/d3.min.js"/></script>
<body>
<script type="text/javascript">
var width = 600,
  height = 600;
var margins = {
  "top": 10,
  "bottom": 10,
  "left": 10,
  "right": 10 };
var defaultExtent = [[100,100],[300,300]];
var svg = d3.select("body")
  .append("svg")
    .attr("class", "main")
    .attr("width", width)
    .attr("height", height)
  .append("g")
    .attr("class", "main");
var x = d3.scale.identity().domain([0,width]);
var y = d3.scale.identity().domain([0,height]);
var brush = d3.svg.brush()
  .x(x)
  .y(y)
  .extent(defaultExtent)
  .on("brush", brushed)
  .on("brushend", brushended)

svg.append("g")
  .attr("class", "brush")
  .call(brush)

function brushstarted() {
  console.log("started brushing")
}
function brushed() { 
  var extent = brush.extent();
}
function brushended(e, i) {
  console.log("brush ended")
}


</script>
